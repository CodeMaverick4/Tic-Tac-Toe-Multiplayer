{"ast":null,"code":"import RoomComponent from'./RoomComponent';import Grid from'./Grid';import{useEffect,useState}from'react';import io from'socket.io-client';import GameOverDialogue from'./GameOverDialogue';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[socket,setSocket]=useState(undefined);const[rm_join_status,setJoinStatus]=useState({rm_status:false,data:{}});const[matrix,setMatrix]=useState([]);const[isRoomFull,setRoom]=useState(false);// state change when checkwin condition in server get true.\nconst[gameOver,setGameOver]=useState(false);const[message,setMessage]=useState(\" win!!! \");useEffect(()=>{const new_socket=io('http://localhost:3001/',{// reconnection: false,\n});setSocket(new_socket);new_socket.on('room_full',()=>setRoom(true));//listening for game over condition\nnew_socket.on('game_over',(user_name,message)=>{if(message===\"win\")setMessage('Player '+user_name+\" win!!! \");else setMessage(\"Draw\");setGameOver(true);});// Cleanup function to disconnect the socket when the component unmounts\nreturn()=>{new_socket.disconnect();console.log('Socket disconnected');};},[]);return/*#__PURE__*/ (// <div className=\" h-screen w-screen flex justify-center items-center bg-gradient-to-tr from-cyan-400 to-purple-600 font-mono\">\n_jsxs(\"div\",{className:\" h-screen w-screen flex justify-center items-center bg-slate-500 font-mono\",children:[gameOver?/*#__PURE__*/_jsx(GameOverDialogue,{gameOver:gameOver,message:message,socket:socket,setGameOver:setGameOver,room_id:rm_join_status.data.client_user_room_id}):'',rm_join_status.rm_status&&socket?'':/*#__PURE__*/_jsx(RoomComponent,{socket:socket,setMatrix:setMatrix,setJoinStatus:setJoinStatus,setRoom:setRoom}),rm_join_status.rm_status&&socket?/*#__PURE__*/_jsx(Grid,{socket:socket,matrix:matrix,user_data:rm_join_status,setMatrix:setMatrix,isRoomFull:isRoomFull}):'']}));}export default App;","map":{"version":3,"names":["RoomComponent","Grid","useEffect","useState","io","GameOverDialogue","jsx","_jsx","jsxs","_jsxs","App","socket","setSocket","undefined","rm_join_status","setJoinStatus","rm_status","data","matrix","setMatrix","isRoomFull","setRoom","gameOver","setGameOver","message","setMessage","new_socket","on","user_name","disconnect","console","log","className","children","room_id","client_user_room_id","user_data"],"sources":["B:/React App/Tic Tac Toe multiplayer/client/src/App.js"],"sourcesContent":["import RoomComponent from './RoomComponent';\nimport Grid from './Grid';\nimport { useEffect, useState } from 'react';\nimport io from 'socket.io-client';\nimport GameOverDialogue from './GameOverDialogue';\n\nfunction App() {\n  const [socket,setSocket] = useState(undefined);\n  const [rm_join_status,setJoinStatus] = useState({rm_status:false,data:{}});\n  const [matrix ,setMatrix] = useState([]);\n  const [isRoomFull,setRoom] = useState(false);\n\n  // state change when checkwin condition in server get true.\n  const [gameOver,setGameOver] = useState(false);\n  const [message,setMessage] = useState(\" win!!! \");\n                                                     \n\n\n  useEffect(() => {\n    const new_socket = io('http://localhost:3001/', {\n      // reconnection: false,\n    });\n    setSocket(new_socket);\n\n    new_socket.on('room_full',()=>setRoom(true));\n\n    //listening for game over condition\n    new_socket.on('game_over',(user_name,message)=> {\n      if(message===\"win\") setMessage('Player '+user_name+\" win!!! \");\n      else setMessage(\"Draw\");\n        setGameOver(true);\n      }\n    ) \n    \n    // Cleanup function to disconnect the socket when the component unmounts\n    return () => {\n      new_socket.disconnect();\n      console.log('Socket disconnected');\n    };\n  }, []); \n\n  return (\n        // <div className=\" h-screen w-screen flex justify-center items-center bg-gradient-to-tr from-cyan-400 to-purple-600 font-mono\">\n          <div className=\" h-screen w-screen flex justify-center items-center bg-slate-500 font-mono\">\n          {/* <h1 className=\"absolute text-5xl top-0 right-0 left-0 m-auto \">Welcome to tic tac toe</h1> */}\n          \n          {gameOver ? <GameOverDialogue  gameOver={gameOver} message={message} socket={socket} setGameOver={setGameOver} room_id={rm_join_status.data.client_user_room_id}/> : ''}\n           {/* first division  room commp only show when user don't join in any room */}\n           {rm_join_status.rm_status && socket ? '': <RoomComponent socket={socket} setMatrix={setMatrix} setJoinStatus={setJoinStatus} setRoom={setRoom} />}\n          \n\n          {/* second division grid only visible after joining room */}\n          {rm_join_status.rm_status && socket ? <Grid socket={socket} matrix={matrix} user_data= {rm_join_status} setMatrix={setMatrix} isRoomFull={isRoomFull} /> :''}\n          \n        </div>\n  );\n}\n\nexport default App;\n"],"mappings":"AAAA,MAAO,CAAAA,aAAa,KAAM,iBAAiB,CAC3C,MAAO,CAAAC,IAAI,KAAM,QAAQ,CACzB,OAASC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAO,CAAAC,EAAE,KAAM,kBAAkB,CACjC,MAAO,CAAAC,gBAAgB,KAAM,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElD,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,MAAM,CAACC,SAAS,CAAC,CAAGT,QAAQ,CAACU,SAAS,CAAC,CAC9C,KAAM,CAACC,cAAc,CAACC,aAAa,CAAC,CAAGZ,QAAQ,CAAC,CAACa,SAAS,CAAC,KAAK,CAACC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAC1E,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACiB,UAAU,CAACC,OAAO,CAAC,CAAGlB,QAAQ,CAAC,KAAK,CAAC,CAE5C;AACA,KAAM,CAACmB,QAAQ,CAACC,WAAW,CAAC,CAAGpB,QAAQ,CAAC,KAAK,CAAC,CAC9C,KAAM,CAACqB,OAAO,CAACC,UAAU,CAAC,CAAGtB,QAAQ,CAAC,UAAU,CAAC,CAIjDD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAwB,UAAU,CAAGtB,EAAE,CAAC,wBAAwB,CAAE,CAC9C;AAAA,CACD,CAAC,CACFQ,SAAS,CAACc,UAAU,CAAC,CAErBA,UAAU,CAACC,EAAE,CAAC,WAAW,CAAC,IAAIN,OAAO,CAAC,IAAI,CAAC,CAAC,CAE5C;AACAK,UAAU,CAACC,EAAE,CAAC,WAAW,CAAC,CAACC,SAAS,CAACJ,OAAO,GAAI,CAC9C,GAAGA,OAAO,GAAG,KAAK,CAAEC,UAAU,CAAC,SAAS,CAACG,SAAS,CAAC,UAAU,CAAC,CAAC,IAC1D,CAAAH,UAAU,CAAC,MAAM,CAAC,CACrBF,WAAW,CAAC,IAAI,CAAC,CACnB,CACF,CAAC,CAED;AACA,MAAO,IAAM,CACXG,UAAU,CAACG,UAAU,CAAC,CAAC,CACvBC,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC,CACpC,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEN,oBACM;AACEtB,KAAA,QAAKuB,SAAS,CAAC,4EAA4E,CAAAC,QAAA,EAG1FX,QAAQ,cAAGf,IAAA,CAACF,gBAAgB,EAAEiB,QAAQ,CAAEA,QAAS,CAACE,OAAO,CAAEA,OAAQ,CAACb,MAAM,CAAEA,MAAO,CAACY,WAAW,CAAEA,WAAY,CAACW,OAAO,CAAEpB,cAAc,CAACG,IAAI,CAACkB,mBAAoB,CAAC,CAAC,CAAG,EAAE,CAErKrB,cAAc,CAACE,SAAS,EAAIL,MAAM,CAAG,EAAE,cAAEJ,IAAA,CAACP,aAAa,EAACW,MAAM,CAAEA,MAAO,CAACQ,SAAS,CAAEA,SAAU,CAACJ,aAAa,CAAEA,aAAc,CAACM,OAAO,CAAEA,OAAQ,CAAE,CAAC,CAIjJP,cAAc,CAACE,SAAS,EAAIL,MAAM,cAAGJ,IAAA,CAACN,IAAI,EAACU,MAAM,CAAEA,MAAO,CAACO,MAAM,CAAEA,MAAO,CAACkB,SAAS,CAAGtB,cAAe,CAACK,SAAS,CAAEA,SAAU,CAACC,UAAU,CAAEA,UAAW,CAAE,CAAC,CAAE,EAAE,EAEzJ,CAAC,EAEd,CAEA,cAAe,CAAAV,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}