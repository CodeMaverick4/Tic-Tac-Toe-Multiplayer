{"ast":null,"code":"import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function RoomComponent(_ref){let{socket,setJoinStatus,setMatrix,setRoom}=_ref;const[message,setMessage]=useState(false);const[error,setError]=useState('');function handleRoomJoin(){console.log(\"handle click called\");const client_room_id=document.getElementById('room_id').value;const client_us_name=document.getElementById('user_name').value;if(client_room_id===''||client_us_name===''){setError(\"please enter valid \".concat(client_room_id===''?'room id':'user name'));return;}socket.emit('joinRoom',{server_user_name:client_us_name,server_room_id:client_room_id},response=>{// console.log(\"server response with data: \",response);\nif(!response.rm_status&&response.message){setError(response.message);}else if(response.rm_status){const temp={rm_status:response.rm_status,data:response.data};setMatrix(response.data.client_matrix);setJoinStatus(temp);setRoom(response.isRoomFull);// setUserLis(response.data.client_lis)\n}else{setMessage(true);setTimeout(()=>setMessage(false),3000);}});}return/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center items-center flex-col\",children:[message?/*#__PURE__*/_jsx(\"p\",{className:\"text-red-300\",children:\" Sorry room capacity is full \"}):'',/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-3\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"To join the game enter Room Id \"}),/*#__PURE__*/_jsx(\"input\",{id:\"user_name\",type:\"text\",className:\"p-2 rounded-lg  outline-none focus:bg-slate-600 \",placeholder:\"Enter Name here...\"}),/*#__PURE__*/_jsx(\"input\",{id:\"room_id\",type:\"text\",className:\"p-2 rounded-lg  outline-none focus:bg-slate-600 \",placeholder:\"Enter Room ID here ...\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-300\",children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleRoomJoin(),className:\"rounded-md p-3 border-black border hover:bg-transparent hover:text-black bg-black text-white\",children:\"Join room\"})]})]});}","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","RoomComponent","_ref","socket","setJoinStatus","setMatrix","setRoom","message","setMessage","error","setError","handleRoomJoin","console","log","client_room_id","document","getElementById","value","client_us_name","concat","emit","server_user_name","server_room_id","response","rm_status","temp","data","client_matrix","isRoomFull","setTimeout","className","children","id","type","placeholder","onClick"],"sources":["B:/React App/Tic Tac Toe multiplayer/client/src/RoomComponent.js"],"sourcesContent":["\r\nimport React, { useState } from 'react'\r\n\r\nexport default function RoomComponent({socket,setJoinStatus,setMatrix,setRoom}) {\r\n  const[message,setMessage] = useState(false);\r\n  const [error,setError] = useState('');\r\n  \r\n  function handleRoomJoin(){\r\n    console.log(\"handle click called\")\r\n    \r\n    const client_room_id = document.getElementById('room_id').value;\r\n    const client_us_name = document.getElementById('user_name').value;\r\n\r\n    if( (client_room_id === '') || (client_us_name === '') ){\r\n      setError(`please enter valid ${client_room_id === '' ? 'room id' : 'user name'}`);\r\n      return\r\n    }\r\n    socket.emit('joinRoom',{server_user_name : client_us_name, server_room_id : client_room_id},(response)=>{\r\n      \r\n      // console.log(\"server response with data: \",response);\r\n      if(!response.rm_status && response.message){\r\n        setError(response.message);\r\n      }\r\n      else if(response.rm_status){\r\n        const temp = {rm_status:response.rm_status,data:response.data};\r\n        setMatrix(response.data.client_matrix);\r\n        setJoinStatus(temp);\r\n        setRoom(response.isRoomFull);\r\n        \r\n        // setUserLis(response.data.client_lis)\r\n      }\r\n      else{\r\n        setMessage(true);\r\n        setTimeout(()=>setMessage(false),3000);\r\n      }\r\n\r\n    });\r\n\r\n\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex justify-center items-center flex-col\">\r\n      {message ? (<p className='text-red-300'> Sorry room capacity is full </p>) : ''}\r\n    <div className=\"flex flex-col gap-3\">\r\n        <p>To join the game enter Room Id </p>\r\n        <input id=\"user_name\" type=\"text\" className=\"p-2 rounded-lg  outline-none focus:bg-slate-600 \" placeholder=\"Enter Name here...\"/>\r\n        \r\n        <input id=\"room_id\" type=\"text\" className=\"p-2 rounded-lg  outline-none focus:bg-slate-600 \" placeholder=\"Enter Room ID here ...\"/>\r\n        {error && <p className='text-red-300'>{error}</p>}\r\n        <button onClick={()=>handleRoomJoin()} className=\"rounded-md p-3 border-black border hover:bg-transparent hover:text-black bg-black text-white\">Join room</button>\r\n    </div>\r\n  </div>    \r\n  )\r\n}\r\n"],"mappings":"AACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,QAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEvC,cAAe,SAAS,CAAAC,aAAaA,CAAAC,IAAA,CAA2C,IAA1C,CAACC,MAAM,CAACC,aAAa,CAACC,SAAS,CAACC,OAAO,CAAC,CAAAJ,IAAA,CAC5E,KAAK,CAACK,OAAO,CAACC,UAAU,CAAC,CAAGZ,QAAQ,CAAC,KAAK,CAAC,CAC3C,KAAM,CAACa,KAAK,CAACC,QAAQ,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAErC,QAAS,CAAAe,cAAcA,CAAA,CAAE,CACvBC,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC,CAElC,KAAM,CAAAC,cAAc,CAAGC,QAAQ,CAACC,cAAc,CAAC,SAAS,CAAC,CAACC,KAAK,CAC/D,KAAM,CAAAC,cAAc,CAAGH,QAAQ,CAACC,cAAc,CAAC,WAAW,CAAC,CAACC,KAAK,CAEjE,GAAKH,cAAc,GAAK,EAAE,EAAMI,cAAc,GAAK,EAAG,CAAE,CACtDR,QAAQ,uBAAAS,MAAA,CAAuBL,cAAc,GAAK,EAAE,CAAG,SAAS,CAAG,WAAW,CAAE,CAAC,CACjF,OACF,CACAX,MAAM,CAACiB,IAAI,CAAC,UAAU,CAAC,CAACC,gBAAgB,CAAGH,cAAc,CAAEI,cAAc,CAAGR,cAAc,CAAC,CAAES,QAAQ,EAAG,CAEtG;AACA,GAAG,CAACA,QAAQ,CAACC,SAAS,EAAID,QAAQ,CAAChB,OAAO,CAAC,CACzCG,QAAQ,CAACa,QAAQ,CAAChB,OAAO,CAAC,CAC5B,CAAC,IACI,IAAGgB,QAAQ,CAACC,SAAS,CAAC,CACzB,KAAM,CAAAC,IAAI,CAAG,CAACD,SAAS,CAACD,QAAQ,CAACC,SAAS,CAACE,IAAI,CAACH,QAAQ,CAACG,IAAI,CAAC,CAC9DrB,SAAS,CAACkB,QAAQ,CAACG,IAAI,CAACC,aAAa,CAAC,CACtCvB,aAAa,CAACqB,IAAI,CAAC,CACnBnB,OAAO,CAACiB,QAAQ,CAACK,UAAU,CAAC,CAE5B;AACF,CAAC,IACG,CACFpB,UAAU,CAAC,IAAI,CAAC,CAChBqB,UAAU,CAAC,IAAIrB,UAAU,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CACxC,CAEF,CAAC,CAAC,CAGJ,CAEA,mBACER,KAAA,QAAK8B,SAAS,CAAC,2CAA2C,CAAAC,QAAA,EACvDxB,OAAO,cAAIT,IAAA,MAAGgC,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAC,+BAA6B,CAAG,CAAC,CAAI,EAAE,cACjF/B,KAAA,QAAK8B,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAChCjC,IAAA,MAAAiC,QAAA,CAAG,iCAA+B,CAAG,CAAC,cACtCjC,IAAA,UAAOkC,EAAE,CAAC,WAAW,CAACC,IAAI,CAAC,MAAM,CAACH,SAAS,CAAC,kDAAkD,CAACI,WAAW,CAAC,oBAAoB,CAAC,CAAC,cAEjIpC,IAAA,UAAOkC,EAAE,CAAC,SAAS,CAACC,IAAI,CAAC,MAAM,CAACH,SAAS,CAAC,kDAAkD,CAACI,WAAW,CAAC,wBAAwB,CAAC,CAAC,CAClIzB,KAAK,eAAIX,IAAA,MAAGgC,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAEtB,KAAK,CAAI,CAAC,cACjDX,IAAA,WAAQqC,OAAO,CAAEA,CAAA,GAAIxB,cAAc,CAAC,CAAE,CAACmB,SAAS,CAAC,8FAA8F,CAAAC,QAAA,CAAC,WAAS,CAAQ,CAAC,EACjK,CAAC,EACH,CAAC,CAER","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}